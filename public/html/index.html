<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
    <script type="text/javascript" src="../javascripts/echarts.min.js"></script>
    <style type="text/css">
        html, body {
            margin: 0;
            height: 100%;
            width: 100%;
            position: absolute;
        }
         a:link{  color: #2a6496;text-decoration: none;  }
         a:visited {  color: #020202;  text-decoration:none;  }
         a:hover {  color: #cfd6d3;  text-decoration:none;  }
    #now{
        list-style-type:none;
        position: static;
        top: 0;
        left: 0;
        right: 0;
        height: 40px;
        width: 100%;
        line-height:30px;
        background-color: #cccbc7;
    }
    #now_1{
        position: absolute;
        top: 5px;
        left: 20px;
    }
    #now_2{
        position:absolute;
        top: 5px;
        right: 20px;
    }

    #ad{
        position:absolute;
        top: 40px;
        left: 0;
        right: 0;
        width: 80%;
        height: 300px;
        margin-right: auto;
        margin-left: auto;
    }

    #table{
        position:absolute;
        top: 340px;
        left: 0;
        right: 0;
        background: rgb(243, 243, 248);
        text-align:center;
    }
    #table1{
        position: static;
    }

    #grid{
        position: absolute;
        text-align: center; /*让div内部文字居中*/
        background-color: #dbdbdb;
        border-radius: 20px;
        margin: auto;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border: 1px solid #545553;
        display: none;
    }
    .ui{
        position: absolute;
        margin: auto;
        top: 50%;
        left: 50%;
        /*-ms-transform: translate(-50%, -50%);*/
        transform: translate(-50%, -50%);
    }
    .button {
        background-color: #4fc08d !important;
        color: #fff !important;
    }
    </style>
<!--
    <script type="text/javascript">
        function changeCss(obj,lis){
            for(var i=0;i< lis.length;i++){
                lis[i].style.backgroundColor = "#606";
            }
            obj.style.backgroundColor = "#F30";
        }
        window.onload = function (){
                var box = document.getElementById("appp");
                alinks = box.getElementsByTagName("a");
                for(var i = 0;i<alinks.length;i++){
                    alinks[i].onclick = function (){
                            changeCss(this,alinks)
                    }
                }
            }
    </script>-->
</head>
<body>

<div id="now">
    <div id="now_1"> <a href="index.html">首页</a></div>
    <div id="now_2">
        名称:xxxx
        欠款:1000
    </div>
</div>

<div id="ad"></div>

<div id="table">
    <div id="table1">
        <table style="width: 75%;margin: auto" border="1"> <!--frame="box" rules="rows">-->
            <caption>该店目前摆放的机器</caption>
            <tr>
                <th>机器编号</th>
                <th>名称</th>
                <th>记录值</th>
                <th></th>
            </tr>
            <tr>
                <td>1010</td>
                <td>name</td>
                <td>500</td>
                <td>
                    <form action="index.html" method="post">
                        <input type="hidden" name="compId" value="2101" />
                        <input type="submit" onclick="return confirm('是否回收')" value="回收">
                    </form>
                </td>
            </tr>
            <tr>
                <td>1010</td>
                <td>name</td>
                <td>500</td>
                <td>
                    <form action="index.html" method="post">
                        <input type="text" style="display:none" value="2101" />
                        <input type="submit" onclick="recycleAffirm()" value="回收">
                    </form>
                </td>
            </tr>
            <tr>
                <th colspan="4">
                        <input type="button" onclick="showLayer('grid')" value="添加" />
                </th>
            </tr>
        </table>
        <br/>
    </div>

    <div id="table2">
        <table style="width: 75%;margin: auto" border="1">
            <caption>该店历史摆放机器收入情况</caption>
            <tr>
                <th>机器编号</th>
                <th>名称</th>
                <th>总收入</th>
            </tr>
            <tr>
                <td>1010</td>
                <td>name</td>
                <td>2000</td>
            </tr>
        </table>
    </div>
</div>

<div id="grid">
    <form class="ui" method="post">
        <div>
            <label>机器编号:</label>
            <input type="text" name="machineNo" style="height:20px;width:180px;font-size:16px; border-radius: 5px;"/>
        </div>
        <input type="submit" class="button" value="添加"/>
        <input type="button" onclick="hideLayer('grid')" value="关闭"/>
    </form>
</div>

<script type="text/javascript">

    data = [["2000-06-05",116],["2000-06-06",129],["2000-06-07",135],["2000-06-08",86],["2000-06-09",73],["2000-06-10",85],["2000-06-11",73],["2000-06-12",68],["2000-06-13",92],["2000-06-14",130],["2000-06-15",245],["2000-06-16",139],["2000-06-17",115],["2000-06-18",111],["2000-06-19",309],["2000-06-20",206],["2000-06-21",137],["2000-06-22",128],["2000-06-23",85],["2000-06-24",94],["2000-06-25",71],["2000-06-26",106],["2000-06-27",84],["2000-06-28",93],["2000-06-29",85],["2000-06-30",73],["2000-07-01",83],["2000-07-02",125],["2000-07-03",107],["2000-07-04",82],["2000-07-05",44],["2000-07-06",72],["2000-07-07",106],["2000-07-08",107],["2000-07-09",66],["2000-07-10",91],["2000-07-11",92],["2000-07-12",113],["2000-07-13",107],["2000-07-14",131],["2000-07-15",111],["2000-07-16",64],["2000-07-17",69],["2000-07-18",88],["2000-07-19",77],["2000-07-20",83],["2000-07-21",111],["2000-07-22",57],["2000-07-23",55],["2000-07-24",60]];

    var dateList = data.map(function (item) {
        return item[0];
    });
    var valueList = data.map(function (item) {
        return item[1];
    });


    function map1(ec) {
        let myChart = ec.init(document.getElementById('ad'));

        option = {
            visualMap: {
                show: false,
                type: 'continuous',
                seriesIndex: 0,
                min: 0,
                max: 400
            },
            title: {
                left: 'center',
                text: '历史收入情况'
            },
            tooltip: {
                trigger: 'axis'
            },
            xAxis: {
                data: dateList
            },
            yAxis: {
                splitLine: {show: false}
            },
            series: [{
                type: 'line',
                showSymbol: false,
                data: valueList
            }]
        };

        myChart.setOption(option);
    }
    map1(echarts);

function recycleAffirm() {
    confirm("是否回收");
}

function addmachine() {
    var person = prompt("请输入机器编号");
    if (person != null && person != ""){
        document.getElementById("demo").innerHTML = person
    }else{
        alert("机器编号为空")
    }
}

function hideLayer(id) {
    var obj = document.getElementById(id);
    obj.style.display = "none";
}

function showLayer(id) {
    var obj  = document.getElementById(id);
    var winWidth = document.documentElement.availWidth;
    var winHeight = document.documentElement.availHeight;
    var offsetTop = document.documentElement.offsetTop;
    console.log(winWidth+'='+winHeight+'='+offsetTop);
    if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)){
        obj.style.width = '95%';
        obj.style.height = '500px'
    }else{
        obj.style.width = 500 + "px";
        obj.style.height = 300 + "px"
    }
/*    var left = (winWidth - width)/2;
    var top  = (winHeight - height)/2 + offsetTop;
    obj.style.top = top + "px";
    obj.style.left = left + "px";*/
    obj.style.display = "block";
}


</script>

</body>
</html>